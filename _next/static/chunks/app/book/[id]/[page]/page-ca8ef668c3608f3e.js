(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{121:(e,t,s)=>{Promise.resolve().then(s.bind(s,8245))},8245:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),n=s(2115),a=s(6874),l=s.n(a);function o(e){let{bookData:t,pageData:s,params:a}=e,[o,c]=(0,n.useState)([]),[d,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{s&&c(Array(s.content.length).fill(!1))},[s]),(0,n.useEffect)(()=>{let e=e=>{null===e.target.closest("[data-tooltip-trigger]")&&i(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let x=s.page,u=t.pages.length;return(0,r.jsxs)("div",{className:"container mx-auto min-h-screen",children:[(0,r.jsx)("h1",{className:"px-4 pt-4 text-2xl font-bold",children:t.title}),(0,r.jsxs)("h2",{className:"px-4 pt-2 text-xl",children:["Page ",s.page]}),(0,r.jsx)("div",{className:"space-y-8 px-4 pt-6",children:s.content.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg",children:e.segments.map((s,a)=>{let l=e.segments[a+1],o=l&&/^[.,!?;:'"]/.test(l.text),c="".concat(t,"-").concat(a);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)("span",{"data-tooltip-trigger":!0,className:"rounded ".concat(s.translation?"group relative cursor-pointer hover:bg-yellow-100":"cursor-default"),onClick:()=>{s.translation&&i(e=>e===c?null:c)},children:[(0,r.jsx)("span",{className:s.translation?"border-b-2 border-dotted border-gray-400 group-hover:border-solid group-hover:border-blue-500":"border-b-2 border-transparent",children:s.text}),s.translation&&(0,r.jsx)("span",{className:"absolute bottom-full z-10 mb-2 w-max max-w-xs rounded bg-gray-800 px-3 py-1 text-sm text-white shadow-lg ".concat(d===c?"block":"hidden"," md:group-hover:block"),children:s.translation})]}),a<e.segments.length-1&&!o&&" "]},a)})}),(0,r.jsx)("div",{className:"mt-2 cursor-pointer rounded bg-gray-100 p-2 hover:bg-gray-200",onClick:()=>{c(e=>{let s=[...e];return s[t]=!s[t],s})},children:(0,r.jsx)("p",{className:"text-center text-sm text-gray-500",children:"▼ 日本語訳を見る"})}),o[t]&&(0,r.jsx)("div",{className:"mt-2 rounded bg-gray-50 p-4",children:(0,r.jsx)("p",{className:"text-base text-gray-800",children:e.japanese})})]},t))}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between border-t px-4 pt-8",children:[x>1?(0,r.jsx)(l(),{href:"/book/".concat(t.id,"/").concat(x-1),className:"text-blue-600 hover:underline",children:"← Previous Page"}):(0,r.jsx)("div",{}),x<u?(0,r.jsx)(l(),{href:"/book/".concat(t.id,"/").concat(x+1),className:"text-blue-600 hover:underline",children:"Next Page →"}):(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:"px-4 pt-8",children:(0,r.jsx)(l(),{href:"/book/".concat(t.id),className:"text-blue-600 hover:underline",children:"Back to Table of Contents"})})]})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=121)),_N_E=e.O()}]);